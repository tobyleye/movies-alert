(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[372],{6637:function(e,t,n){Promise.resolve().then(n.bind(n,3900))},2797:function(e,t,n){"use strict";n.d(t,{Bp:function(){return r},Ld:function(){return l},qr:function(){return o}});var i=n(9222);let a="/api";console.log({baseURL:a});let s=i.Z.create({baseURL:a}),l=e=>{let{movieTitle:t,email:n}=e;return s.post("/subscribe",{movieTitle:t,email:n})},r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return s.get("/recentMovies",{params:{page:e}}).then(e=>{let{data:t}=e;return t})},o=e=>s.post("/generateDownloadLink",{url:e}).then(e=>e.data.data)},3900:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return z}});var i=n(7437),a=n(2265),s=n(4556),l=n(7329),r=n(8930),o=n(9670),c=n(9561),d=n(6103),x=n(6066),p=n(2797);function u(){return(0,a.useEffect)(()=>{window.scrollTo({behavior:"smooth",top:0})},[]),null}var g=n(428),h=n.n(g),m=n(6835),f=n(8744),j=n(3709);let b=e=>{let{movie:t,setBlockPage:n}=e,[s,l]=(0,a.useState)([]),[r,c]=(0,a.useState)(!1),d=async()=>{try{c(!0),n(!0);let e=await p.qr(t.link);l(e)}catch(e){}finally{n(!1),c(!1)}},x=!1===r&&s.length>0;return(0,i.jsx)("div",{children:(0,i.jsxs)(m.Z,{shadow:"sm",padding:"xl",children:[(0,i.jsx)(m.Z.Section,{children:(0,i.jsx)(f.E,{src:t.poster,height:160,alt:"No way!",withPlaceholder:!0,style:{objectFit:"contain",objectPosition:"center"},placeholder:(0,i.jsx)(o.x,{align:"center",children:"cannot load image"})})}),(0,i.jsx)(o.x,{weight:500,size:"lg",mt:"md",children:t.title}),(0,i.jsx)(o.x,{mt:"xs",color:"dimmed",size:"sm",style:{marginBottom:25},children:t.synopsis}),x?(0,i.jsxs)("ul",{className:"jsx-f89a79c20ee68d0d",children:[s.map((e,t)=>(0,i.jsx)("li",{className:"jsx-f89a79c20ee68d0d",children:(0,i.jsx)("a",{href:e,target:"_blank",className:"jsx-f89a79c20ee68d0d",children:e})},"download-link-".concat(t))),(0,i.jsx)(h(),{id:"f89a79c20ee68d0d",children:"ul.jsx-f89a79c20ee68d0d{list-style:none}"})]}):(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,i.jsx)(j.z,{loading:!0===r,onClick:d,children:"generate download link"})}),!0===r&&(0,i.jsx)("div",{style:{marginTop:8,textAlign:"center",fontSize:14,color:"gray"},children:"Please exercise some patience, this would take a while"})]})]})},t.link)};var y=n(9641),v=n.n(y),w=n(8980);let k=e=>{let{currentPage:t,lastPage:n,onPageChange:a}=e;return(0,i.jsxs)("div",{className:"jsx-d71bd2c3e0e0a956 movie-paginator-container",children:[(0,i.jsx)(v(),{className:"movie-paginator",pageCount:20,forcePage:t?t-1:void 0,onPageChange:e=>null==a?void 0:a(e.selected+1),nextLabel:(0,i.jsx)(w.Tfp,{}),previousLabel:(0,i.jsx)(w.YFh,{}),pageRangeDisplayed:0}),(0,i.jsx)(h(),{id:"d71bd2c3e0e0a956",children:'.movie-paginator-container{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;width:100%;overflow:auto;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.movie-paginator{list-style:none;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:5px;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:0}.movie-paginator a{padding:0 10px;height:28px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;cursor:pointer;font-size:14px;display:inline-grid;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;justify-items:center;place-items:center}.movie-paginator .next a,.movie-paginator .previous a{background:#222;color:white;padding:0 20px}.movie-paginator .next a{margin-left:18px}.movie-paginator .previous a{margin-right:18px}.movie-paginator a[aria-current="page"]{background:red;color:white}'})]})};function z(){let[e,t]=(0,a.useState)([]),[n,g]=(0,a.useState)(!1),[h,m]=(0,a.useState)(!1),[f,j]=(0,a.useState)(),[y,v]=(0,a.useState)(1),[w,z]=(0,a.useState)(!1),[S,N]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=async()=>{try{let{data:e,lastPage:n}=await p.Bp();t(e),j(n)}catch(e){g(!0)}finally{m(!1)}};e()},[]);let C=async e=>{try{z(!0);let{data:n}=await p.Bp(e);t(n),v(e)}catch(e){}finally{z(!1)}};return(0,i.jsxs)(s.x,{pos:"relative",children:[(0,i.jsx)(u,{},y),(0,i.jsx)(l.f,{visible:w||S,zIndex:1e3}),(0,i.jsxs)(r.r,{justify:"center",children:[(0,i.jsx)(r.r.Col,{sm:6,children:(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-center mb-0",children:"Recent movies"}),(0,i.jsx)(o.x,{align:"center",size:"sm",className:"mb-8",children:"Source: tfpdl"}),h?(0,i.jsx)("div",{style:{padding:"50px 0",display:"flex",justifyContent:"center"},children:(0,i.jsx)(c.a,{})}):n?(0,i.jsx)(d.b,{style:{textAlign:"center"},children:"Ahh sorry, ann error occured loading movies"}):(0,i.jsx)(x.M,{spacing:"xl",children:e&&e.length>0?e.map(e=>(0,i.jsx)(b,{movie:e,setBlockPage:N},e.link)):null})]})}),(0,i.jsx)(r.r.Col,{sm:12,children:(0,i.jsx)(k,{lastPage:f,currentPage:y,onPageChange:C})})]})]})}}},function(e){e.O(0,[680,709,837,35,971,596,744],function(){return e(e.s=6637)}),_N_E=e.O()}]);