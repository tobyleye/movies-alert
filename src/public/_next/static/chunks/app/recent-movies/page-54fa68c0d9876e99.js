(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[372],{6637:function(e,t,n){Promise.resolve().then(n.bind(n,7969))},2797:function(e,t,n){"use strict";n.d(t,{Bp:function(){return r},Ld:function(){return s},qr:function(){return c}});var l=n(9222);let i=l.Z.create({baseURL:"http://localhost:5183/api"}),s=e=>{let{movieTitle:t,email:n}=e;return i.post("/subscribe",{movieTitle:t,email:n})},r=()=>i.get("/recent-movies").then(e=>{let{data:t}=e;return t}),c=e=>i.post("/generateDownloadLink",{url:e}).then(e=>e.data.data)},7969:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var l=n(7437),i=n(2265),s=n(6835),r=n(290),c=n(9670),a=n(3709),o=n(8930),d=n(9561),h=n(6103),u=n(6066),x=n(2797);let j=e=>{let{movie:t}=e,[n,o]=(0,i.useState)([]),[d,h]=(0,i.useState)(!1),u=async()=>{try{h(!0);let e=await x.qr(t.link);o(e)}catch(e){}finally{h(!1)}},j=!1===d&&n.length>0;return(0,l.jsx)("div",{children:(0,l.jsxs)(s.Z,{shadow:"sm",padding:"xl",children:[(0,l.jsx)(s.Z.Section,{children:(0,l.jsx)(r.E,{src:t.poster,height:160,alt:"No way!",withPlaceholder:!0,placeholder:(0,l.jsx)(c.x,{align:"center",children:"cannot load image"})})}),(0,l.jsx)(c.x,{weight:500,size:"lg",mt:"md",children:t.title}),(0,l.jsx)(c.x,{mt:"xs",color:"dimmed",size:"sm",style:{marginBottom:25},children:t.synopsis}),j?(0,l.jsx)("ul",{children:n.map((e,t)=>(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:e,target:"_blank",children:e})},"download-link-".concat(t)))}):(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,l.jsx)(a.z,{loading:!0===d,onClick:u,children:"generate download link"})}),!0===d&&(0,l.jsx)("div",{style:{marginTop:8,textAlign:"center",fontSize:14,color:"gray"},children:"Please exercise some patience, this would take a while"})]})]})},t.link)};function f(){let[e,t]=(0,i.useState)([]),[n,s]=(0,i.useState)(!1),[r,a]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{a(!0),x.Bp().then(e=>{let{data:n}=e;t(n)}).catch(e=>{console.log("error --",e),s(!0)}).finally(()=>{a(!1)})},[]),(0,l.jsx)("div",{children:(0,l.jsx)(o.r,{justify:"center",children:(0,l.jsxs)(o.r.Col,{sm:6,children:[(0,l.jsx)("h1",{className:"text-center mb-0",children:"Recent movies"}),(0,l.jsx)(c.x,{align:"center",size:"sm",className:"mb-8",children:"Source: tfpdl"}),r?(0,l.jsx)("div",{style:{padding:"50px 0",display:"flex",justifyContent:"center"},children:(0,l.jsx)(d.a,{})}):n?(0,l.jsx)(h.b,{style:{textAlign:"center"},children:"Ahh sorry, ann error occured loading movies"}):(0,l.jsx)(u.M,{spacing:"xl",children:e&&e.length>0?e.map(e=>(0,l.jsx)(j,{movie:e},e.link)):null})]})})})}}},function(e){e.O(0,[680,709,837,109,971,596,744],function(){return e(e.s=6637)}),_N_E=e.O()}]);